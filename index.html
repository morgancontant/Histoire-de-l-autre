<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Histoire de l’autre</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
      display: flex; 
      align-items: center; 
      justify-content: center;
      height: 100vh;
      background: url('bg.jpg') no-repeat center center/cover;
      overflow: hidden;
    }

    body::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.1);
      z-index: 0;
    }

    #loader {
      text-align: center;
      position: relative;
      z-index: 2;
      opacity: 0;
      animation: fadeIn 1s ease forwards;
      padding: 0 5vw;
    }

    /* Logo responsive */
    #logo {
      width: 50vw;       /* 50% de la largeur de l’écran */
      max-width: 350px;  /* limite pour les grands écrans */
      min-width: 180px;  /* limite pour les petits écrans */
      animation: float 3s ease-in-out infinite;
    }

    /* Barre responsive */
    #barre {
      width: 80vw;       /* prend 80% de la largeur de l’écran */
      max-width: 400px;  /* mais jamais plus large que 400px */
      height: 20px; 
      background: rgba(255,255,255,0.1); 
      border-radius: 10px; 
      overflow: hidden; 
      border: 2px solid #b5121b; 
      margin: 5px auto;
      box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
    }

    #barre-remplie {
      width: 0%; 
      height: 100%; 
      background: linear-gradient(90deg, #b5121b, #ff4d4d); 
      box-shadow: 0 0 12px #ff4d4d;
      transition: width 0.15s linear;
    }

    /* Texte responsive */
    #text {
      color: #b5121b;
      font-size: clamp(1rem, 2.5vw, 1.3rem); /* s’adapte à l’écran */
      margin-top: 15px;
      letter-spacing: 1px;
    }

    #dots span {
      animation: blink 1.2s infinite;
    }
    #dots span:nth-child(2) { animation-delay: 0.2s; }
    #dots span:nth-child(3) { animation-delay: 0.4s; }

    @keyframes blink {
      0%, 80%, 100% { opacity: 0; }
      40% { opacity: 1; }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .fade-out {
      animation: fadeOut 1s forwards;
    }
    @keyframes fadeOut {
      to { opacity: 0; transform: scale(0.95); }
    }
  </style>
</head>
<body>
  <div id="loader">
    <img id="logo" src="img/sciencespo.png" alt="Logo">
    <div id="barre">
      <div id="barre-remplie"></div>
    </div>
    <div id="text">
      Chargement<span id="dots"><span>.</span><span>.</span><span>.</span></span>
    </div>
  </div>

  <script>
    const barreRemplie = document.getElementById('barre-remplie');
    const loader = document.getElementById('loader');
    let progress = 0;
    const vitesse = 0.35;

    function animate() {
      if(progress < 100) {
        progress += vitesse;
        if(progress > 100) progress = 100;
        barreRemplie.style.width = progress + '%';
        requestAnimationFrame(animate);
      } else {
        setTimeout(() => {
          loader.classList.add("fade-out");
          setTimeout(() => {
            window.location.href = 'accueil.html';
          }, 1000);
        }, 500);
      }
    }

    animate();
  </script>
</body>
</html>
